(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},1791:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_5b2c46"}},2958:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});var a=s(5155),n=s(2115),i=s(8088);let r=()=>{let{cart:e,isCartOpen:t,closeCart:s,removeFromCart:r,updateQuantity:l,clearCart:c,setCustomerInfo:o}=(0,i._)(),[d,m]=(0,n.useState)({name:"",phone:"",email:"",notes:""}),[h,u]=(0,n.useState)(!1),[x,j]=(0,n.useState)({}),[p,v]=(0,n.useState)("idle"),N=e=>{let{name:t,value:s}=e.target;m(e=>({...e,[t]:s})),x[t]&&j(e=>{let s={...e};return delete s[t],s})},b=()=>{let e={};return d.name.trim()||(e.name="Name is required"),d.phone.trim()?/^[\d\s\+\-\(\)]{10,15}$/.test(d.phone)||(e.phone="Please enter a valid phone number"):e.phone="Phone is required",d.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)&&(e.email="Please enter a valid email"),j(e),0===Object.keys(e).length},f=async t=>{if(t.preventDefault(),b()){o(d);try{let t="\nNew order from ".concat(d.name,":\n\nContact Information:\nName: ").concat(d.name,"\nPhone: ").concat(d.phone,"\nEmail: ").concat(d.email||"Not provided","\nNotes: ").concat(d.notes||"None","\n\nOrdered Items:\n").concat(e.items.map(e=>"- ".concat(e.title," (").concat(e.quantity," units)\n   SWL: ").concat(e.swl,", Length: ").concat(e.length,"\n   Price: \xa3").concat(e.price.toFixed(2)," \xd7 ").concat(e.quantity," = \xa3").concat((e.price*e.quantity).toFixed(2))).join("\n\n"),"\n\nTotal: \xa3").concat(e.totalPrice.toFixed(2),"\n      "),a=encodeURIComponent("New order from website"),n=encodeURIComponent(t),i="mailto:info@ebinstall.co.uk?subject=".concat(a,"&body=").concat(n);window.location.href=i,v("success"),setTimeout(()=>{c(),s(),v("idle"),u(!1)},3e3)}catch(e){console.error("Error sending order:",e),v("error")}}};return t?(0,a.jsx)("div",{className:"cart-sidebar-overlay",children:(0,a.jsxs)("div",{className:"cart-sidebar",children:[(0,a.jsxs)("div",{className:"cart-header",children:[(0,a.jsx)("h2",{children:"Cart"}),(0,a.jsx)("button",{className:"close-cart",onClick:s,children:"\xd7"})]}),0===e.items.length?(0,a.jsxs)("div",{className:"empty-cart",children:[(0,a.jsx)("p",{children:"Your cart is empty"}),(0,a.jsx)("button",{className:"continue-shopping",onClick:s,children:"Continue Shopping"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"cart-items",children:e.items.map(e=>(0,a.jsxs)("div",{className:"cart-item",children:[(0,a.jsxs)("div",{className:"cart-item-info",children:[(0,a.jsx)("h3",{children:e.title}),(0,a.jsxs)("div",{className:"cart-item-details",children:[(0,a.jsxs)("p",{children:["SWL: ",e.swl,", Length: ",e.length]}),e.color&&(0,a.jsxs)("p",{children:["Color: ",e.color]}),(0,a.jsxs)("p",{className:"item-price",children:["\xa3",e.price.toFixed(2)," / week"]})]})]}),(0,a.jsxs)("div",{className:"cart-item-actions",children:[(0,a.jsxs)("div",{className:"quantity-control",children:[(0,a.jsx)("button",{onClick:()=>l(e.id,e.quantity-1),className:"quantity-btn",children:"-"}),(0,a.jsx)("span",{className:"quantity",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>l(e.id,e.quantity+1),className:"quantity-btn",children:"+"})]}),(0,a.jsx)("button",{onClick:()=>r(e.id),className:"remove-item",children:"Remove"})]}),(0,a.jsxs)("div",{className:"cart-item-total",children:["\xa3",(e.price*e.quantity).toFixed(2)]})]},e.id))}),(0,a.jsxs)("div",{className:"cart-summary",children:[(0,a.jsxs)("div",{className:"cart-total",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{children:["\xa3",e.totalPrice.toFixed(2)]})]}),h?(0,a.jsxs)("form",{onSubmit:f,className:"checkout-form",children:[(0,a.jsx)("h3",{children:"Your Information"}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Name*"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:d.name,onChange:N,required:!0}),x.name&&(0,a.jsx)("span",{className:"error",children:x.name})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"phone",children:"Phone*"}),(0,a.jsx)("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:N,required:!0}),x.phone&&(0,a.jsx)("span",{className:"error",children:x.phone})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"email",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:d.email,onChange:N}),x.email&&(0,a.jsx)("span",{className:"error",children:x.email})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"notes",children:"Order Notes"}),(0,a.jsx)("textarea",{id:"notes",name:"notes",value:d.notes,onChange:N,rows:3})]}),(0,a.jsxs)("div",{className:"form-buttons",children:[(0,a.jsx)("button",{type:"submit",className:"submit-order",disabled:"loading"===p,children:"loading"===p?"Sending...":"Send Order"}),(0,a.jsx)("button",{type:"button",className:"back-to-cart",onClick:()=>u(!1),children:"Back to Cart"})]}),"success"===p&&(0,a.jsx)("div",{className:"success-message",children:"Order sent successfully! We will contact you soon."}),"error"===p&&(0,a.jsx)("div",{className:"error-message",children:"An error occurred when sending your order. Please try again or contact us directly."})]}):(0,a.jsxs)("div",{className:"cart-buttons",children:[(0,a.jsx)("button",{className:"checkout-button",onClick:()=>u(!0),children:"Checkout"}),(0,a.jsx)("button",{className:"clear-cart-button",onClick:c,children:"Clear Cart"})]})]})]})]})}):null}},4615:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var a=s(5155);s(2115);var n=s(9911),i=s(8088),r=s(6874),l=s.n(r);let c=()=>{let{openCart:e,cart:t}=(0,i._)(),s=t.items.length;return(0,a.jsxs)("div",{className:"top-header",children:[(0,a.jsxs)(l(),{href:"/",className:"logo",children:[(0,a.jsx)("span",{className:"eb-logo",children:"EB"}),(0,a.jsx)("span",{className:"install-word",children:"INSTALL"})]}),(0,a.jsxs)("div",{className:"top-nav",children:[(0,a.jsxs)("div",{className:"contact-items",children:[(0,a.jsxs)("div",{className:"contact-item",children:[(0,a.jsx)(n.Cab,{size:14}),(0,a.jsx)("a",{href:"tel:+447478136061",children:" +44 7478 136061"})]}),(0,a.jsxs)("div",{className:"contact-item",children:[(0,a.jsx)(n.Cab,{size:14}),(0,a.jsx)("a",{href:"tel:+447340626369",children:" +44 7340 626369"})]}),(0,a.jsxs)("div",{className:"contact-item",children:[(0,a.jsx)(n.maD,{size:14}),(0,a.jsx)("a",{href:"mailto:e.b.install.ltd@gmail.com",children:" e.b.install.ltd@gmail.com"})]})]}),(0,a.jsxs)("button",{className:"cart-button",onClick:e,children:[(0,a.jsx)(n.AsH,{size:20}),s>0&&(0,a.jsx)("span",{className:"cart-item-count",children:s}),(0,a.jsx)("span",{children:"Cart"})]})]})]})}},5805:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,347,23)),Promise.resolve().then(s.t.bind(s,8280,23)),Promise.resolve().then(s.t.bind(s,1791,23)),Promise.resolve().then(s.bind(s,2958)),Promise.resolve().then(s.bind(s,4615)),Promise.resolve().then(s.bind(s,8088)),Promise.resolve().then(s.t.bind(s,6898,23)),Promise.resolve().then(s.t.bind(s,7943,23))},6898:()=>{},7943:()=>{},8088:(e,t,s)=>{"use strict";s.d(t,{CartProvider:()=>c,_:()=>o});var a=s(5155),n=s(2115),i=s(1368);let r=(0,n.createContext)(void 0),l={items:[],totalPrice:0},c=e=>{let{children:t}=e,[s,c]=(0,n.useState)(l),[o,d]=(0,n.useState)(!1),[m,h]=(0,n.useState)({visible:!1,message:"",type:"success"});(0,n.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{let t=JSON.parse(e);c(t)}catch(e){console.error("Failed to parse cart from localStorage:",e)}},[]),(0,n.useEffect)(()=>{s.items.length>0?localStorage.setItem("cart",JSON.stringify(s)):localStorage.removeItem("cart")},[s]),(0,n.useEffect)(()=>{let e=s.items.reduce((e,t)=>e+t.price*t.quantity,0);c(t=>({...t,totalPrice:parseFloat(e.toFixed(2))}))},[s.items]);let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";h({visible:!0,message:e,type:t}),setTimeout(()=>{h(e=>({...e,visible:!1}))},3e3)},x=e=>{c(t=>({...t,items:t.items.filter(t=>t.id!==e)}))};return(0,a.jsxs)(r.Provider,{value:{cart:s,addToCart:e=>{c(t=>{let s=t.items.findIndex(t=>t.type===e.type&&t.swl===e.swl&&t.length===e.length&&t.color===e.color);if(-1!==s){let a=[...t.items];return a[s]={...a[s],quantity:a[s].quantity+e.quantity},{...t,items:a}}return{...t,items:[...t.items,{...e,id:(0,i.A)()}]}}),u("Added to cart: ".concat(e.title," (").concat(e.quantity,")"))},removeFromCart:x,updateQuantity:(e,t)=>{if(t<=0){x(e);return}c(s=>({...s,items:s.items.map(s=>s.id===e?{...s,quantity:t}:s)}))},clearCart:()=>{c(l),localStorage.removeItem("cart")},setCustomerInfo:e=>{c(t=>({...t,customer:e}))},isCartOpen:o,openCart:()=>d(!0),closeCart:()=>d(!1),notification:m},children:[t,m.visible&&(0,a.jsx)("div",{className:"notification ".concat(m.type),children:m.message})]})},o=()=>{let e=(0,n.useContext)(r);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},8280:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[985,635,78,711,434,441,684,358],()=>t(5805)),_N_E=e.O()}]);